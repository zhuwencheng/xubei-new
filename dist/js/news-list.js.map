{"version":3,"sources":["news-list.js","./src/js/news-list.js","./src/js/ui/paging.js"],"names":["webpackJsonp","module","exports","require","Paging","size","current","showSize","container","itemType","action","alert","mixin","a","b","key","hasOwnProperty","getIndex","pages","defaults","item","items","half","Math","floor","startIndex","endIndex","i","getPrev","prev","getNext","next","$","options","$container","this","show","proto","prototype","indexs","html","bind","_action","that","$prev","find","$next","$items","off","on","e","_index","currentTarget","data"],"mappings":"AAAAA,cAAc,IAER,SAASC,EAAQC,EAASC,GCFhC,GAAAC,GAAAD,EAAA,EAEA,IAAAC,IACAC,KAAA,GACAC,QAAA,EACAC,SAAA,EACAC,UAAA,SACAC,SAAA,OACAC,OAAA,SAAAJ,GACAK,MAAA,QAAAL,ODUO,CACA,CAED,SAASL,EAAQC,EAASC,GEhBhC,QAAAS,GAAAC,EAAAC,GACA,OAAAC,KAAAD,GACAA,EAAAE,eAAAD,KACAF,EAAAE,GAAAD,EAAAC,GAGA,OAAAF,GA4DA,QAAAI,KACA,GAAAC,GAAAC,EAAAd,KACAE,EAAAY,EAAAZ,SACAa,EAAAD,EAAAV,SACAH,EAAAa,EAAAb,QACAe,EAAA,GACAC,EAAAC,KAAAC,MAAAjB,EAAA,GAEAkB,EAAAnB,EAAAgB,EAAAhB,EAAAgB,EAAA,IACAI,EAAAR,GAAAZ,EAAAgB,EAAAhB,EAAAgB,EAAAJ,CAEA,QAAAA,GAAA,CACA,OAAAS,GAAAF,EAAgCC,EAAAC,EAAcA,IAE9CN,GADAf,IAAAqB,EAAA,EACA,IAAAP,EAAA,oCAAAO,EAAA,SAAAA,EAAA,QAAAP,EAAA,IAEA,IAAAA,EAAA,4BAAAO,EAAA,SAAAA,EAAA,QAAAP,EAAA,GAGA,OAAAC,IAEA,QAAAO,KACA,GAAAV,GAAAC,EAAAd,KACAe,EAAAD,EAAAV,SACAoB,EAAA,EAKA,OAHAX,GAAA,OAAAC,EAAAb,UACAuB,EAAA,IAAAT,EAAA,sBAAAA,EAAA,KAEAS,EAEA,QAAAC,KACA,GAAAZ,GAAAC,EAAAd,KACAe,EAAAD,EAAAV,SACAsB,EAAA,EAKA,OAHAb,GAAA,GAAAC,EAAAb,UAAAY,IACAa,EAAA,IAAAX,EAAA,sBAAAA,EAAA,KAEAW,EA3GA,GAAAC,GAAA7B,EAAA,GAUAgB,GACAd,KAAA,EACAE,SAAA,EACAD,QAAA,EACAE,UAAA,SACAC,SAAA,OACAC,OAAA,MAEAN,EAAA,SAAA6B,GACAd,EAAAP,EAAAO,EAAAc,GACAd,EAAAe,WAAAF,EAAA,IAAAb,EAAAX,WACA2B,KAAAC,QAEAC,EAAAjC,EAAAkC,SACAD,GAAAD,KAAA,WACA,GAAAG,GAAAtB,IACAY,EAAAD,IACAG,EAAAD,IACAI,EAAAf,EAAAe,UAEAA,KACAA,EAAAM,KAAAX,EAAAU,EAAAR,GACAI,KAAAM,SAEAJ,EAAAI,KAAA,WA2BA,QAAAC,KACAC,EAAAP,OACAjB,EAAAT,QAAA,kBAAAS,GAAAT,QACAS,EAAAT,OAAAS,EAAAb,SA7BA,GAAA4B,GAAAf,EAAAe,WACAU,EAAAV,EAAAW,KAAA,SACAC,EAAAZ,EAAAW,KAAA,SACAE,EAAAb,EAAAW,KAAA,SACA3B,EAAAC,EAAAd,KACAsC,EAAAR,IAEAS,GAAAI,MAAAC,GAAA,mBACA9B,EAAAb,QAAA,IACAa,EAAAb,SAAA,GAEAoC,MAEAI,EAAAE,MAAAC,GAAA,mBACA9B,EAAAb,QAAAY,IACAC,EAAAb,SAAA,GAEAoC,MAEAK,EAAAC,MAAAC,GAAA,iBAAAC,GACA,GAAAC,GAAAnB,EAAAkB,EAAAE,eAAAC,KAAA,MACAlC,GAAAb,SAAA6C,EACAT,OAqDAzC,EAAAC,QAAAE","file":"news-list.js","sourcesContent":["webpackJsonp([1],[\n/* 0 */\n/***/ function(module, exports, require) {\n\n\tvar Paging = require(3);\r\n\t\r\n\tvar Page = new Paging({\r\n\t    size: 10,    //页数\r\n\t    current: 2,\r\n\t    showSize: 5,\r\n\t    container: 'paging', //父容器id\r\n\t    itemType: 'span', //分页dom类型\r\n\t    action: function(current) {\r\n\t        alert('page:' + current);\r\n\t    }\r\n\t});\r\n\n\n/***/ },\n/* 1 */,\n/* 2 */,\n/* 3 */\n/***/ function(module, exports, require) {\n\n\t/**\r\n\t    分页组件\r\n\t*/\r\n\t    \r\n\t    var $ = require(1);\r\n\t\r\n\t    function mixin(a, b) {\r\n\t        for(var key in b) {\r\n\t            if (b.hasOwnProperty(key)) {\r\n\t                a[key] = b[key];\r\n\t            }\r\n\t        }\r\n\t        return a;\r\n\t    }\r\n\t    var defaults = {\r\n\t        size: 0,    //页数\r\n\t        showSize: 5,\r\n\t        current: 1,\r\n\t        container: 'paging', //父容器id\r\n\t        itemType: 'span', //分页dom类型\r\n\t        action: null //点击分页回调函数\r\n\t    };\r\n\t    var Paging  = function (options) {\r\n\t        defaults = mixin(defaults, options);\r\n\t        defaults.$container = $('#' + defaults.container);\r\n\t        this.show();\r\n\t    };\r\n\t    var proto = Paging.prototype;\r\n\t    proto.show = function () {\r\n\t        var indexs = getIndex();\r\n\t        var prev = getPrev();\r\n\t        var next = getNext();\r\n\t        var $container = defaults.$container;\r\n\t\r\n\t        if (! $container) return;\r\n\t        $container.html(prev + indexs + next);\r\n\t        this.bind();\r\n\t    };\r\n\t    proto.bind = function () {\r\n\t        var $container = defaults.$container;\r\n\t        var $prev = $container.find('.prev');\r\n\t        var $next = $container.find('.next');\r\n\t        var $items = $container.find('.item');\r\n\t        var pages = defaults.size;\r\n\t        var that = this;\r\n\t\r\n\t        $prev.off().on('click', function() {\r\n\t            if (defaults.current > 1) {\r\n\t                defaults.current -= 1; \r\n\t            }\r\n\t            _action();\r\n\t        });\r\n\t        $next.off().on('click', function() {\r\n\t            if (defaults.current < pages) {\r\n\t                defaults.current += 1;\r\n\t            }\r\n\t            _action();\r\n\t        });\r\n\t        $items.off().on('click', function(e) {\r\n\t            var _index = $(e.currentTarget).data(\"num\");\r\n\t            defaults.current = +_index;\r\n\t            _action();\r\n\t        });\r\n\t\r\n\t        //外部回调\r\n\t        function _action() {\r\n\t            that.show();\r\n\t            if (defaults.action && typeof defaults.action === 'function') {\r\n\t                defaults.action(defaults.current);\r\n\t            }\r\n\t        }\r\n\t    };\r\n\t    function getIndex() {\r\n\t        var pages = defaults.size;\r\n\t        var showSize = defaults.showSize;\r\n\t        var item = defaults.itemType;\r\n\t        var current = defaults.current;\r\n\t        var items = '';\r\n\t        var half = Math.floor(showSize/2);\r\n\t\r\n\t        var startIndex = current > half ? (current - half - 1) : 0;\r\n\t        var endIndex = (current + half <= pages) ? (current + half) : pages;\r\n\t\r\n\t        if (pages < 1) return;\r\n\t        for (var i = startIndex; i < endIndex; i++) {\r\n\t            if (current === i + 1) {\r\n\t                items  += '<' + item + ' class=\"actived item\" data-num=\"'+ (i + 1) +'\">' + (i + 1) + '</' + item + '>';\r\n\t            } else {\r\n\t                items  += '<' + item + ' class=\"item\" data-num=\"'+ (i + 1) +'\">' + (i + 1) + '</' + item + '>';\r\n\t            }\r\n\t        }\r\n\t        return items;\r\n\t    }\r\n\t    function getPrev() {\r\n\t        var pages = defaults.size;\r\n\t        var item = defaults.itemType;\r\n\t        var prev = '';\r\n\t\r\n\t        if (pages > 1 && defaults.current !== 1) {\r\n\t            prev = '<' + item + ' class=\"prev\">上一页</' + item + '>';\r\n\t        }\r\n\t        return prev;\r\n\t    }\r\n\t    function getNext() {\r\n\t        var pages = defaults.size;\r\n\t        var item = defaults.itemType;\r\n\t        var next = '';\r\n\t\r\n\t        if (pages > 1 && defaults.current !== pages) {\r\n\t            next = '<' + item + ' class=\"next\">下一页</' + item + '>';\r\n\t        }\r\n\t        return next;\r\n\t    }\r\n\t\r\n\t    module.exports = Paging;\r\n\n\n/***/ }\n])","var Paging = require('ui/paging.js');\r\n\r\nvar Page = new Paging({\r\n    size: 10,    //页数\r\n    current: 2,\r\n    showSize: 5,\r\n    container: 'paging', //父容器id\r\n    itemType: 'span', //分页dom类型\r\n    action: function(current) {\r\n        alert('page:' + current);\r\n    }\r\n});\r\n","/**\r\n    分页组件\r\n*/\r\n    \r\n    var $ = require('jquery');\r\n\r\n    function mixin(a, b) {\r\n        for(var key in b) {\r\n            if (b.hasOwnProperty(key)) {\r\n                a[key] = b[key];\r\n            }\r\n        }\r\n        return a;\r\n    }\r\n    var defaults = {\r\n        size: 0,    //页数\r\n        showSize: 5,\r\n        current: 1,\r\n        container: 'paging', //父容器id\r\n        itemType: 'span', //分页dom类型\r\n        action: null //点击分页回调函数\r\n    };\r\n    var Paging  = function (options) {\r\n        defaults = mixin(defaults, options);\r\n        defaults.$container = $('#' + defaults.container);\r\n        this.show();\r\n    };\r\n    var proto = Paging.prototype;\r\n    proto.show = function () {\r\n        var indexs = getIndex();\r\n        var prev = getPrev();\r\n        var next = getNext();\r\n        var $container = defaults.$container;\r\n\r\n        if (! $container) return;\r\n        $container.html(prev + indexs + next);\r\n        this.bind();\r\n    };\r\n    proto.bind = function () {\r\n        var $container = defaults.$container;\r\n        var $prev = $container.find('.prev');\r\n        var $next = $container.find('.next');\r\n        var $items = $container.find('.item');\r\n        var pages = defaults.size;\r\n        var that = this;\r\n\r\n        $prev.off().on('click', function() {\r\n            if (defaults.current > 1) {\r\n                defaults.current -= 1; \r\n            }\r\n            _action();\r\n        });\r\n        $next.off().on('click', function() {\r\n            if (defaults.current < pages) {\r\n                defaults.current += 1;\r\n            }\r\n            _action();\r\n        });\r\n        $items.off().on('click', function(e) {\r\n            var _index = $(e.currentTarget).data(\"num\");\r\n            defaults.current = +_index;\r\n            _action();\r\n        });\r\n\r\n        //外部回调\r\n        function _action() {\r\n            that.show();\r\n            if (defaults.action && typeof defaults.action === 'function') {\r\n                defaults.action(defaults.current);\r\n            }\r\n        }\r\n    };\r\n    function getIndex() {\r\n        var pages = defaults.size;\r\n        var showSize = defaults.showSize;\r\n        var item = defaults.itemType;\r\n        var current = defaults.current;\r\n        var items = '';\r\n        var half = Math.floor(showSize/2);\r\n\r\n        var startIndex = current > half ? (current - half - 1) : 0;\r\n        var endIndex = (current + half <= pages) ? (current + half) : pages;\r\n\r\n        if (pages < 1) return;\r\n        for (var i = startIndex; i < endIndex; i++) {\r\n            if (current === i + 1) {\r\n                items  += '<' + item + ' class=\"actived item\" data-num=\"'+ (i + 1) +'\">' + (i + 1) + '</' + item + '>';\r\n            } else {\r\n                items  += '<' + item + ' class=\"item\" data-num=\"'+ (i + 1) +'\">' + (i + 1) + '</' + item + '>';\r\n            }\r\n        }\r\n        return items;\r\n    }\r\n    function getPrev() {\r\n        var pages = defaults.size;\r\n        var item = defaults.itemType;\r\n        var prev = '';\r\n\r\n        if (pages > 1 && defaults.current !== 1) {\r\n            prev = '<' + item + ' class=\"prev\">上一页</' + item + '>';\r\n        }\r\n        return prev;\r\n    }\r\n    function getNext() {\r\n        var pages = defaults.size;\r\n        var item = defaults.itemType;\r\n        var next = '';\r\n\r\n        if (pages > 1 && defaults.current !== pages) {\r\n            next = '<' + item + ' class=\"next\">下一页</' + item + '>';\r\n        }\r\n        return next;\r\n    }\r\n\r\n    module.exports = Paging;\r\n"],"sourceRoot":"webpack-module://"}